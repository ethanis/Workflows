name: ADO ArchiveFiles

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:

  build:
    runs-on: ubuntu-latest  # For a list of available runner types, refer to
    steps:
    - name: Checkout
      uses: actions/checkout@v2
    - name: Action Zip
      uses: papeloto/action-zip@v1
      with:
        files: archive
        dest: archive.zip
    - name: Echo message
      run: echo archive.zip
    - name: 7z install and compress files
      run: 7z u -mx=9 archive.7z archive
      if: succeeded() || failed()
    - name: Tar files
      run: tar -cf archive.tar archive --overwrite
      if: succeeded() || failed()
    - name: Install and zip files
      run:  |-
        sudo apt-get install zip
        zip -r -u archive.zip archive
      if: succeeded() || failed()
      
   
